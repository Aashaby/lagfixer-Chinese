LagShield:
  enabled: true
  worlds: # 使用 '*' 对所有世界启用。
    - world
    - world_the_end
    - world_nether
  values:
    # 当 TPS 低于阈值时，将禁用对应功能。
    # 将某个功能的阈值设为 -1 可完全禁用该项检测。
    tps_threshold:
      entity_spawn: 19         # TPS 低于该值时禁用实体生成。
      tick_hopper: 18          # TPS 低于该值时禁用漏斗传输。
      redstone: 18             # TPS 低于该值时禁用红石更新。
      projectiles: 15          # TPS 低于该值时取消投掷物（箭、雪球等）。
      leaves_decay: 19         # TPS 低于该值时停止树叶腐烂。
      mobai: -1                # TPS 低于该值时禁用生物 AI。
      liquid_flow: 18          # TPS 低于该值时停止液体流动（水/岩浆）。
      explosions: 18.5         # TPS 低于该值时取消爆炸。
      fireworks: 19            # TPS 低于该值时取消烟花。

    # 动态调整玩家视距。
    # Key = TPS，Value = 对应该 TPS 下设置的 view-distance。
    # 最大值受 spigot.yml 中的 "view-distance" 限制。
    # 视距变化可能导致玩家画面闪烁（区块重新加载）。
    # 范围：2–32 区块。
    dynamic_view_distance:
      enabled: false
      tps_thresholds:
        - "20.1:10" # 20 TPS -> view-distance 10
        - "18.0:8"  # 18 TPS -> view-distance 8
        - "15.0:6"  # 15 TPS -> view-distance 6
        - "10.0:2"  # 10 TPS -> view-distance 2

    # 动态调整模拟距离。
    # 控制距离玩家多远的机制（生物 AI、tick 等）处于激活状态。
    # 最大值受 spigot.yml 中的 "simulation-distance" 限制。
    # 同时也会受视距限制，以避免模拟玩家不可见的区块。
    dynamic_simulation_distance:
      enabled: true
      tps_thresholds:
        - "20.1:5"  # 20 TPS -> simulation-distance 5
        - "18.0:4"  # 18 TPS -> simulation-distance 4
        - "15.0:3"  # 15 TPS -> simulation-distance 3
        - "10.0:1"  # 10 TPS -> simulation-distance 1

    # 动态调整随机刻速度（randomTickSpeed）。
    # 会根据当前 TPS 动态调整 gamerule "randomTickSpeed"。
    # 影响作物生长、树叶腐烂、火焰蔓延等随机刻相关行为。
    # 值越大世界活动越频繁；值越小越省性能。
    # Minecraft 默认值通常为 3。
    dynamic_tick_speed:
      enabled: true
      tps_thresholds:
        - "20.1:3"  # 20 TPS -> randomTickSpeed 3（默认）
        - "18.0:2"  # 18 TPS -> randomTickSpeed 2
        - "15.0:1"  # 15 TPS -> randomTickSpeed 1
        - "10.0:0"  # 10 TPS -> randomTickSpeed 0（禁用）