ExplosionOptimizer:
  enabled: true
  worlds:
    - '*'
  values:
    # 限制爆炸最大威力/半径，以减少过度破坏
    yield_limit:
      enabled: false

      # 所有爆炸源的最大爆炸威力
      # 数值越高 = 破坏越强；数值越低 = 伤害越小
      # Minecraft 中 TNT 默认爆炸威力为 4.0
      default: 4.0

      # 按实体类型设置爆炸威力上限：
      # 此处会覆盖上面的 "default" 值
      # 实体类型：https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/EntityType.html
      per_entity:
        - "TNT:4.0"          # TNT（最常见）
        - "TNT_MINECART:4.0" # TNT 矿车
        - "CREEPER:3.0"      # 苦力怕（稍弱）
        - "FIREBALL:1.0"     # 恶魂火球
        - "WITHER_SKULL:1.0" # 凋灵头颅投掷物
        - "END_CRYSTAL:6.0"  # 末影水晶（默认较强）

    # 防止连锁反应：一次爆炸引发附近其它爆炸
    anti_chain:
      enabled: true

      # 防止连锁：
      prevent_tnt_chains: true      # TNT 不会引爆其它 TNT
      prevent_creeper_chains: false # 苦力怕仍可引爆其它苦力怕
      prevent_crystal_chains: true  # 末影水晶不会连锁

      # 防止爆炸点燃 TNT 方块
      # true = 爆炸不会点燃 TNT；false = 正常行为
      prevent_block_ignition: true

      # 检测潜在连锁反应的半径（方块）
      chain_radius: 8.0

      # 一条连锁中允许的最大爆炸次数
      max_chain_size: 3

      # 一次爆炸后，允许新的连锁前的延迟（毫秒）
      chain_cooldown: 1000

    management:
      # ⚠️ 警告：此选项将完全禁用爆炸！
      # 仅在爆炸导致严重卡顿时才建议启用
      enabled: false

      # 要禁用的爆炸类型：
      cancel_block_explosions: true # 例如：下界床爆炸等
      cancel_creepers: false        # 保留苦力怕以维持玩法
      cancel_crystals: true
      cancel_fireballs: true
      cancel_tnt: true
      cancel_wither_skulls: true

      # 禁用爆炸时的部分效果：
      explosion_damage: # 伤害实体但不破坏方块
        enabled: false
        multiplier: 2.5
      explosion_sound: # 保留声音以增强沉浸感
        enabled: true
        volume: 1.0
      explosion_knockback: # 击退但不破坏方块
        enabled: false
        multiplier: 0.6
        use_newton_raphson: true # 比 Math.sqrt 更快